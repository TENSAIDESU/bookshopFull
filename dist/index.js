(()=>{"use strict";(()=>{let e=[{url:"./src/images/imgslider/banner1.png"},{url:"./src/images/imgslider./banner2.png"},{url:"./src/images/imgslider./banner3.png"}];document.addEventListener("DOMContentLoaded",(()=>{!function(e,t){if(!e||!e.length)return;t=t||{dots:!1,titles:!1,autoplay:!1,autoplayInterval:5e3};const s=document.querySelector(".slider"),i=s.querySelector(".slider__images");function a(s){if(i.querySelector(".active").classList.remove("active"),i.querySelector(`.n${s}`).classList.add("active"),t.titles){let t=i.querySelector(".slider__images-title");e[s].title?(t.innerText=e[s].title,t.style.display="block"):t.style.display="none"}if(t.dots){let e=document.querySelector(".slider__dots");e.querySelector(".active").classList.remove("active"),e.querySelector(`.n${s}`).classList.add("active")}}e.forEach(((e,t)=>{let s=document.createElement("div");s.className=`image n${t} ${t?"":"active"}`,s.dataset.index=t,s.style.backgroundImage=`url(${e.url})`,i.appendChild(s)})),t.dots&&function(){let t=document.createElement("div");t.className="slider__dots",e.forEach(((e,s)=>{let i=document.createElement("div");i.className=`slider__dots-item n${s} ${s?"":"active"}`,i.dataset.index=s,i.addEventListener("click",(function(){a(this.dataset.index)})),t.appendChild(i)})),s.appendChild(t)}(),t.titles&&function(){let t=`<div class="slider__images-title">${e[0].title}</div>`;i.innerHTML+=t}(),t.autoplay&&setInterval((()=>{let t=+i.querySelector(".active").dataset.index;a(t===e.length-1?0:t+1)}),t.autoplayInterval)}(e,{dots:!0,titles:!1,autoplay:!0,autoplayInterval:5e3})}))})(),(()=>{let e=0,t=document.querySelector(".link.active").innerText;const s=document.querySelector(".cartCounter"),i=JSON.parse(localStorage.getItem("cart")??"[]"),a=async()=>{let s=await(a=t,n=6*e,6,fetch(`https://www.googleapis.com/books/v1/volumes?q=${a}&key=AIzaSyDszvaaBOPGUYhjJ5L2m_OvNUPs6U6CH78&printType=books&startIndex=${n}&maxResults=6&langRestrict=en`).then((e=>e.json())).then((e=>e.items)).catch((()=>{console.log(error)})));var a,n;e++,s.forEach((e=>{let t=e.volumeInfo.imageLinks?.thumbnail??"./src/images/imgslider/place-holder.png",s=e.volumeInfo?.authors??"No authors",a=e.volumeInfo.title,n=e.volumeInfo.description??"no describtion",r=e.saleInfo.saleability,l="No for sale",c="",o=e.volumeInfo?.ratingsCount??"";o&&(o=e.volumeInfo.ratingsCount+" reviews"),"FOR_SALE"===r&&(l=e.saleInfo.retailPrice?.amount,c=e.saleInfo.retailPrice?.currencyCode);const d=`\n    <div class="card_item" id="${e.id}">\n    <div class ="card_item__image"><img class="holder" src="${t} "></div>\n      <div class="desribtion">\n         <div class="card_item__author">${s}</div>\n        <div class="card_item__title">${a}</div>\n          <div class="rating"> \n        <div class="stars">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n</div>\n<div class="card_item-count">${o}<span></span></div>\n        </div>\n        <div class="card_item__desribtion">${n}</div>\n        <div class="price">\n        <div class="card_item__price">${l}</div>\n        <div class="card_item__priceType">${c}</div>\n        </div>\n      <button class="buybtn ${i.includes(e.id)?"added":""}" id="${e.id}">${i.includes(e.id)?"IN THE CARD":"Buy now"}</button> \n      </div>\n    `;document.querySelector(".card").innerHTML+=d;let m=Math.floor(e.volumeInfo.averageRating),u=document.querySelectorAll(".gray-star");for(let e=0;e<m;e++)u[e].src="./src/images/imgslider/gold.png"}))},n=()=>{if(0==i.length)s.innerHTML=" ";else{const e=`<span class="itemsnumber">${i.length}</span>`;s.innerHTML=e}};n(),a(),document.addEventListener("click",(e=>{if(e.target.classList.contains("link")&&(document.querySelector(".link.active")?.classList.remove("active"),e.target.classList.add("active"),document.querySelector(".card").innerHTML="",t=e.target.innerText,a()),e.target.classList.contains("btn")&&a(),e.target.classList.contains("buybtn")){const t=e.target,s=t.id;t.classList.contains("added")?(t.innerHTML="BUY NOW",t.classList.remove("added"),i.includes(s)&&i.splice(i.indexOf(s),1)):(t.innerHTML="IN THE CART",t.classList.add("added"),i.push(s)),localStorage.setItem("cart",JSON.stringify(i)),n()}}))})(),(()=>{const e=document.querySelector(".hamb"),t=document.querySelector(".popup"),s=document.body,i=document.querySelector(".nav-category-list").cloneNode(1),a=document.querySelector(".navigation").cloneNode(1);function n(){t.classList.remove("open"),e.classList.remove("active"),s.classList.remove("noscroll")}e.addEventListener("click",(function(n){n.preventDefault(),t.classList.toggle("open"),e.classList.toggle("active"),s.classList.toggle("noscroll"),t.appendChild(i),t.appendChild(a)})),Array.from(i.children).forEach((e=>{e.addEventListener("click",n)}))})()})();