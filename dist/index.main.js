(()=>{"use strict";(()=>{let e=[{url:"./imgslider./banner1.png"},{url:"./imgslider./banner2.png"},{url:"./imgslider./banner3.png"}];document.addEventListener("DOMContentLoaded",(()=>{!function(e,t){if(!e||!e.length)return;t=t||{dots:!1,titles:!1,autoplay:!1,autoplayInterval:5e3};const a=document.querySelector(".slider"),s=a.querySelector(".slider__images");function i(a){if(s.querySelector(".active").classList.remove("active"),s.querySelector(`.n${a}`).classList.add("active"),t.titles){let t=s.querySelector(".slider__images-title");e[a].title?(t.innerText=e[a].title,t.style.display="block"):t.style.display="none"}if(t.dots){let e=document.querySelector(".slider__dots");e.querySelector(".active").classList.remove("active"),e.querySelector(`.n${a}`).classList.add("active")}}e.forEach(((e,t)=>{let a=document.createElement("div");a.className=`image n${t} ${t?"":"active"}`,a.dataset.index=t,a.style.backgroundImage=`url(${e.url})`,s.appendChild(a)})),t.dots&&function(){let t=document.createElement("div");t.className="slider__dots",e.forEach(((e,a)=>{let s=document.createElement("div");s.className=`slider__dots-item n${a} ${a?"":"active"}`,s.dataset.index=a,s.addEventListener("click",(function(){i(this.dataset.index)})),t.appendChild(s)})),a.appendChild(t)}(),t.titles&&function(){let t=`<div class="slider__images-title">${e[0].title}</div>`;s.innerHTML+=t}(),t.autoplay&&setInterval((()=>{let t=+s.querySelector(".active").dataset.index;i(t===e.length-1?0:t+1)}),t.autoplayInterval)}(e,{dots:!0,titles:!1,autoplay:!0,autoplayInterval:5e3})}))})(),(()=>{let e=0,t=document.querySelector(".link").getAttribute("data-category");const a=async()=>{let a=await(s=t,i=6*e,6,fetch(`https://www.googleapis.com/books/v1/volumes?q=subject:${s}&key=AIzaSyDszvaaBOPGUYhjJ5L2m_OvNUPs6U6CH78&printType=books&startIndex=${i}&maxResults=6&langRestrict=en`).then((e=>e.json())).then((e=>e.items)).catch((()=>{console.log(error)})));var s,i;e++,a.forEach((e=>{let t=e.volumeInfo.imageLinks?.thumbnail??"./imgslider/place-holder.png",a=e.volumeInfo?.authors??"No authors",s=e.volumeInfo.title,i=e.volumeInfo.description??"no describtion",n=e.saleInfo.saleability,l="No for sale",r="",c=e.volumeInfo?.ratingsCount??"";c&&(c=e.volumeInfo.ratingsCount+" reviews"),"FOR_SALE"===n&&(l=e.saleInfo.retailPrice?.amount,r=e.saleInfo.retailPrice?.currencyCode);const o=`\n    <div class="card_item" id="${e.id}">\n    <div class ="card_item__image"><img class="holder" src="${t} "></div>\n      <div class="desribtion">\n         <div class="card_item__author">${a}</div>\n        <div class="card_item__title">${s}</div>\n          <div class="rating"> \n        <div class="stars">\n<img src="./imgslider/gray.png" class="gray-star">\n<img src="./imgslider/gray.png" class="gray-star">\n<img src="./imgslider/gray.png" class="gray-star">\n<img src="./imgslider/gray.png" class="gray-star">\n<img src="./imgslider/gray.png" class="gray-star">\n</div>\n<div class="card_item-count">${c}<span></span></div>\n        </div>\n        <div class="card_item__desribtion">${i}</div>\n        <div class="price">\n        <div class="card_item__price">${l}</div>\n        <div class="card_item__priceType">${r}</div>\n        </div>\n      <button class="buybtn" id="${e.id}">Buy now</button> \n      </div>\n    `;document.querySelector(".card").innerHTML+=o;let d=Math.floor(e.volumeInfo.averageRating),u=document.querySelectorAll(".gray-star");for(let e=0;e<d;e++)u[e].src="./imgslider/gold.png"}))},s=Array.from(document.querySelectorAll(".buybtn")),i=document.querySelector(".cart-counter");s.forEach((e=>{Object.prototype.hasOwnProperty.call(localStorage,e.id)&&(e.classList.add("added"),e.innerHTML="IN THE CART");let t=`<div class="items-number">${Object.keys(localStorage).length}</div>`;Object.keys(localStorage).length>0&&(i.innerHTML=t);let a=0;e.addEventListener("click",(()=>{const s=e.id;e.classList.contains("added")?e.classList.contains("added")&&(e.innerHTML="BUY NOW",e.classList.remove("added"),localStorage.removeItem(s,e.id),a++):(e.innerHTML="IN THE CART",e.classList.add("added"),localStorage.setItem(s,e.id),a--),t=`<div class="items-number">${Object.keys(localStorage).length}</div>`,i.innerHTML=t,0==Object.keys(localStorage).length&&(i.innerHTML=" "),document.getElementById("cart-counter").textContent=a}))})),document.addEventListener("click",(e=>{e.target.classList.contains("link")&&(document.querySelector(".link.active")?.classList.remove("active"),e.target.classList.add("active"),document.querySelector(".card").innerHTML="",t=e.target.innerText,a()),e.target.classList.contains("btn")&&a()}))})(),(()=>{const e=document.querySelector(".hamb"),t=document.querySelector(".popup"),a=document.body,s=document.querySelector(".nav-category-list").cloneNode(1),i=document.querySelector(".navigation").cloneNode(1);function n(){t.classList.remove("open"),e.classList.remove("active"),a.classList.remove("noscroll")}e.addEventListener("click",(function(n){n.preventDefault(),t.classList.toggle("open"),e.classList.toggle("active"),a.classList.toggle("noscroll"),t.appendChild(s),t.appendChild(i)})),Array.from(s.children).forEach((e=>{e.addEventListener("click",n)}))})()})();