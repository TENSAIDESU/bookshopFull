(()=>{"use strict";(()=>{let e=[{url:"./src/images/imgslider/banner1.png"},{url:"./src/images/imgslider./banner2.png"},{url:"./src/images/imgslider./banner3.png"}];document.addEventListener("DOMContentLoaded",(()=>{!function(e,t){if(!e||!e.length)return;t=t||{dots:!1,titles:!1,autoplay:!1,autoplayInterval:5e3};const s=document.querySelector(".slider"),a=s.querySelector(".slider__images");function i(s){if(a.querySelector(".active").classList.remove("active"),a.querySelector(`.n${s}`).classList.add("active"),t.titles){let t=a.querySelector(".slider__images-title");e[s].title?(t.innerText=e[s].title,t.style.display="block"):t.style.display="none"}if(t.dots){let e=document.querySelector(".slider__dots");e.querySelector(".active").classList.remove("active"),e.querySelector(`.n${s}`).classList.add("active")}}e.forEach(((e,t)=>{let s=document.createElement("div");s.className=`image n${t} ${t?"":"active"}`,s.dataset.index=t,s.style.backgroundImage=`url(${e.url})`,a.appendChild(s)})),t.dots&&function(){let t=document.createElement("div");t.className="slider__dots",e.forEach(((e,s)=>{let a=document.createElement("div");a.className=`slider__dots-item n${s} ${s?"":"active"}`,a.dataset.index=s,a.addEventListener("click",(function(){i(this.dataset.index)})),t.appendChild(a)})),s.appendChild(t)}(),t.titles&&function(){let t=`<div class="slider__images-title">${e[0].title}</div>`;a.innerHTML+=t}(),t.autoplay&&setInterval((()=>{let t=+a.querySelector(".active").dataset.index;i(t===e.length-1?0:t+1)}),t.autoplayInterval)}(e,{dots:!0,titles:!1,autoplay:!0,autoplayInterval:5e3})}))})(),(()=>{let e=0,t=document.querySelector(".link.active").innerText;const s=async()=>{let s=await(a=t,i=6*e,6,fetch(`https://www.googleapis.com/books/v1/volumes?q=${a}&key=AIzaSyDszvaaBOPGUYhjJ5L2m_OvNUPs6U6CH78&printType=books&startIndex=${i}&maxResults=6&langRestrict=en`).then((e=>e.json())).then((e=>e.items)).catch((()=>{console.log(error)})));var a,i;e++,s.forEach((e=>{let t=e.volumeInfo.imageLinks?.thumbnail??"./imgslider/place-holder.png",s=e.volumeInfo?.authors??"No authors",a=e.volumeInfo.title,i=e.volumeInfo.description??"no describtion",n=e.saleInfo.saleability,r="No for sale",l="",c=e.volumeInfo?.ratingsCount??"";c&&(c=e.volumeInfo.ratingsCount+" reviews"),"FOR_SALE"===n&&(r=e.saleInfo.retailPrice?.amount,l=e.saleInfo.retailPrice?.currencyCode);const o=`\n    <div class="card_item" id="${e.id}">\n    <div class ="card_item__image"><img class="holder" src="${t} "></div>\n      <div class="desribtion">\n         <div class="card_item__author">${s}</div>\n        <div class="card_item__title">${a}</div>\n          <div class="rating"> \n        <div class="stars">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n<img src="./src/images/imgslider/gray.png" class="gray-star">\n</div>\n<div class="card_item-count">${c}<span></span></div>\n        </div>\n        <div class="card_item__desribtion">${i}</div>\n        <div class="price">\n        <div class="card_item__price">${r}</div>\n        <div class="card_item__priceType">${l}</div>\n        </div>\n      <button class="buybtn" id="${e.id}">Buy now</button> \n      </div>\n    `;document.querySelector(".card").innerHTML+=o;let d=Math.floor(e.volumeInfo.averageRating),m=document.querySelectorAll(".gray-star");for(let e=0;e<d;e++)m[e].src="./src/images/imgslider/gold.png"}))},a=document.querySelector(".cartCounter");s(),document.addEventListener("click",(e=>{if(e.target.classList.contains("link")&&(document.querySelector(".link.active")?.classList.remove("active"),e.target.classList.add("active"),document.querySelector(".card").innerHTML="",t=e.target.innerText,s()),e.target.classList.contains("btn")&&s(),e.target.classList.contains("buybtn")){const t=e.target,s=t.id;t.classList.contains("added")?t.classList.contains("added")&&(t.innerHTML="BUY NOW",t.classList.remove("added"),localStorage.removeItem(s,t.id)):(t.innerHTML="IN THE CART",t.classList.add("added"),localStorage.setItem(s,t.id));const i=`<span class="itemsnumber">${Object.keys(localStorage).length}</span>`;a.innerHTML=i,0==Object.keys(localStorage).length&&(a.innerHTML=" "),Object.keys(localStorage).length>0&&(a.innerHTML=i)}}))})(),(()=>{const e=document.querySelector(".hamb"),t=document.querySelector(".popup"),s=document.body,a=document.querySelector(".nav-category-list").cloneNode(1),i=document.querySelector(".navigation").cloneNode(1);function n(){t.classList.remove("open"),e.classList.remove("active"),s.classList.remove("noscroll")}e.addEventListener("click",(function(n){n.preventDefault(),t.classList.toggle("open"),e.classList.toggle("active"),s.classList.toggle("noscroll"),t.appendChild(a),t.appendChild(i)})),Array.from(a.children).forEach((e=>{e.addEventListener("click",n)}))})()})();